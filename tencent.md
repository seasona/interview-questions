# 腾讯

## C++

### C++ 中智能指针和指针的区别是什么？
    
普通指针

### 简述 C++ 右值引用与转移语义

右值引用可用于修改右值，右值正常来说是无法被修改的，只能赋给const lvalue，而右值引用可以对右值进行修改

转移语义主要用于移动构造函数和移动复制函数，注意rule of five，一般用于有分配堆内存的对象，利用移动语义可以减少内存的重新拷贝，直接窃取右值对象中的内存数据。注意举例时，由于返回值优化(RVO)的存在，函数返回值的转移语义其实不起作用，但是例如STL中容器的各种操作是可以通过转移语义获得优化的，比如对象buffer本身内部有分配堆内存，复制是很耗时的，所以它内部有定义移动构造函数和移动复制函数，

- https://www.internalpointers.com/post/c-rvalue-references-and-move-semantics-beginners
- https://www.yuque.com/jiyanling/srtwox/khr8qy

### 简述 C++ 中智能指针的特点，简述 new 与 malloc 的区别

智能指针是通过指针占有并管理另一对象，并在离开作用域时释放该对象，通过关联的删除器释放对象并释放对象占有的内存

new其实是分为两步：分配内存+调用构造函数初始化，分配内存使用`operator new`，`operator new`内部使用`malloc`来分配内存，可以通过重载该操作符来定制化一些操作；分配内存后调用对象构造函数然后返回对象指针

malloc的话一般是使用系统调用，在linux下是一般是调用mmap系统调用来分配堆内存，可以通过flags参数来改变使用方式：一般进程内堆空间都是使用`MAP_PRIVATE`，如果使用`MAP_SHARED`就是开启了共享内存用于进程间通信，也可以将其映射到某一个文件用于进程间通信，一般是比read等系统调用更快，主要是减少了系统调用的开销

- https://www.cnblogs.com/huangfuyuan/p/9476951.html
- https://man7.org/linux/man-pages/man2/mmap.2.html
- https://www.cnblogs.com/slgkaifa/p/6887887.html

### C++ 11 有什么新特性? C++ 14? C++ 17? C++ 20?

- C++11
    - 引入了智能指针、auto自动推导、lambda表达式、右值引用
    - 引入了`<thread>`，`<atomic>`等标准库
- C++14
    - 主要是C++11引入的特性进行了扩展
- C++17
    - 引入的语言特性不是很多，主要有类模板实参推导等
    - 加入了`<string_view>`，`<filesystem>`等标准库
- C++20
    - 加入了很多语言特性：module、coroutine、concepts等
    - 加入了`<format>`等标准库

+ https://zh.cppreference.com/w/cpp/11
+ https://zh.cppreference.com/w/cpp/20

### STL 中 vector 与 list 具体是怎么实现的？常见操作的时间复杂度是多少？

vector类似数组，主要是一开始分配一块连续内存，内部是有三个迭代器指向起始、已存储位置、vector容器结尾位置。与数组不同的地方就是可以动态扩容，当已存储达到容器分配大小是，一般是重新开辟一块大小是原本倍数的连续内存，倍数由编译器决定，然后把旧空间的数据深拷贝到新内存空间，弃用原本的内存空间，所以是比较耗时的。常见的查询是O(1)，插入末尾算O(1)吧

list是双向链表吧，常数时间从容器任何位置插入和移除元素，一般是先find到位置然后再insert这样，O(n)

### 编译时链接有几种方式？静态链接和动态链接的区别是什么？

- 静态链接：编译时进行链接
    - 空间和地址分配：扫描所有输入目标文件，获取各个段的长度、属性和位置，并且将所有符号定义都搜集起来放入全局符号表，将所有段合并
    - 符号解析和重定位：读取输入文件中段的数据、重定位信息，并且进行符号解析与重定位、调整代码中的地址等
    因为需要将所有的过程文件都链接进最终文件，所以比较浪费空间，并且更新困难
- 动态链接：运行时进行链接

### 深拷贝与浅拷贝区别是什么？

浅拷贝：比如类中存储一个指向已分配内存的指针，浅拷贝只会将该指针拷贝到新对象，两个对象共用的一个资源
深拷贝：深拷贝需要手动将分配一块新内存，将数据也拷贝过来，这种将对象所持有的其它资源一并拷贝的行为叫做深拷贝，必须显式地定义拷贝构造函数才能达到深拷贝的目的

### const、static 关键字有什么区别

const关键字本意是禁止修改变量的值，只是单纯的编译器进行标识，然后把变量放到只读段

static关键字起静态或线程存储期和内部连接的作用：

- 内部连接：主要是只是当前符号只能在当前翻译单元(translation unit)中使用
- 静态存储期：这类对象的存储在程序开始时分配，并在程序结束时解分配。这类对象只存在一个实例

### 只定义析构函数，会自动生成哪些构造函数？

三之法则：若某个类需要用户定义的析构函数、用户定义的复制构造函数或用户定义的复制赋值运算符，则它几乎肯定三者全部都需要

五之法则：因为用户定义析构函数、复制构造函数或复制赋值运算符的存在阻止移动构造函数和移动赋值运算符的隐式定义，所以任何想要移动语义的类必须声明全部五个特殊成员函数

### 简述 C++ 中内存对齐的使用场景

有吗？可以尝试答一下位域

### 简述 C++ 从代码到可执行二进制文件的过程

预处理->编译->链接->二进制

### 简述 STL 中的 map 的实现原理

map底层实现是红黑树，插入查询都是O(logn)，存储节点是std::pair，所以会出现first、second；unordered_map底层实现是哈希表

## 操作系统

- ▲ 34 进程和线程之间有什么区别？
- ▲ 29 进程间有哪些通信方式？
- ▲ 27 简述 socket 中 select 与 epoll 的使用场景以及区别，epoll 中水平触发以及边缘触发有什么不同？
- ▲ 26 Linux 进程调度中有哪些常见算法以及策略？
- ▲ 18 操作系统如何申请以及管理内存的？
- ▲ 12 简单介绍进程调度的算法
- ▲ 11 简述 Linux 系统态与用户态，什么时候会进入系统态？
- ▲ 11 简述 LRU 算法及其实现方式
- ▲ 11 线程间有哪些通信方式？
- ▲ 8 简述同步与异步的区别，阻塞与非阻塞的区别
- ▲ 8 简述操作系统如何进行内存管理
- ▲ 7 简述操作系统中的缺页中断
- ▲ 3 简述操作系统中 malloc 的实现原理
- ▲ 2 BIO、NIO 有什么区别？怎么判断写文件时 Buffer 已经写满？简述 Linux 的 IO模型
- ▲ 1 进程空间从高位到低位都有些什么？

## 网络协议

- ▲ 41 简述 TCP 三次握手以及四次挥手的流程。为什么需要三次握手以及四次挥手？
- ▲ 32 RestFul 与 RPC 的区别是什么？RestFul 的优点在哪里？
- ▲ 29 HTTP 与 HTTPS 有哪些区别？
- ▲ 26 RestFul 是什么？RestFul 请求的 URL 有什么特点？
- ▲ 23 一次 HTTP 的请求过程中发生了什么？
- ▲ 19 TCP 与 UDP 在网络协议中的哪一层，他们之间有什么区别？
- ▲ 18 TCP 中常见的拥塞控制算法有哪些？
- ▲ 17 TCP 怎么保证可靠传输？
- ▲ 17 从系统层面上，UDP如何保证尽量可靠？
- ▲ 8 TCP 的 keepalive 了解吗？说一说它和 http 的 keepalive 的区别？
- ▲ 8 简述 TCP 滑动窗口以及重传机制
- ▲ 8 简述 HTTP 1.0，1.1，2.0 的主要区别
- ▲ 7 简述 TCP 的 TIME_WAIT
- ▲ 5 HTTP 的方法有哪些？
- ▲ 4 简述 TCP 协议的延迟 ACK 和累计应答
- ▲ 1 简述 TCP 的报文头部结构
- ▲ 1 简述 TCP 半连接发生场景
- ▲ 1 什么是 SYN flood，如何防止这类攻击？

## 算法

- ▲ 29 10亿个数中如何高效地找到最大的一个数以及最大的第 K 个数
- ▲ 21 最大子序和 (Leetcode)
- ▲ 20 爬楼梯 (Leetcode)
- ▲ 18 用 Rand7() 实现 Rand10() (Leetcode)
- ▲ 15 AVL树和红黑树有什么区别？
- ▲ 15 给定一个包含 40亿 个无符号整数的大型文件，使用最多 1G 内存，对此文件进行排序
- ▲ 14 合并两个有序链表 (Leetcode)
- ▲ 14 路径总和 (Leetcode)
- ▲ 14 如果通过一个不均匀的硬币得到公平的结果？
- ▲ 13 实现快速排序
- ▲ 13 数组中的第 K 个最大元素 (Leetcode)
- ▲ 13 10亿条数据包括 id，上线时间，下线时间，请绘制每一秒在线人数的曲线图
- ▲ 13 删除排序链表中的重复元素 (Leetcode)
- ▲ 11 有序链表插入的时间复杂度是多少？
- ▲ 10 Hash 表常见操作的时间复杂度是多少？遇到 Hash 冲突是如何解决的？
- ▲ 9 环形链表 (Leetcode)
- ▲ 6 常用的限流算法有哪些？简述令牌桶算法原理
- ▲ 4 简述常见的负载均衡算法
- ▲ 1 反转链表 (Leetcode)
- ▲ 1 第一个只出现一次的字符 (Leetcode)

## 非技术

- ▲ 14 对加班有什么看法？
- ▲ 10 你的优势和劣势是什么？
- ▲ 7 与同事沟通的时候，如果遇到冲突了如何解决？
- ▲ 1 最近一年内遇到的最有挑战的事情是什么？